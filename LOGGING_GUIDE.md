# üìù –†—ä–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∑–∞ –õ–æ–≥–≤–∞–Ω–µ - SmartFit

## üéØ –ó–∞—â–æ –ª–æ–≥–≤–∞–º–µ?

–õ–æ–≥–≤–∞–Ω–µ—Ç–æ –µ –∫—Ä–∏—Ç–∏—á–Ω–æ –∑–∞:

- **–û—Ç—Å—Ç—Ä–∞–Ω—è–≤–∞–Ω–µ –Ω–∞ –≥—Ä–µ—à–∫–∏** - –ø—Ä–æ—Å–ª–µ–¥—è–≤–∞–Ω–µ –Ω–∞ –ø—Ä–æ–±–ª–µ–º–∏
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - —Å–ª–µ–¥–≤–∞–Ω–µ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç—Ç–∞
- **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** - —Ä–∞–∑–±–∏—Ä–∞–Ω–µ –Ω–∞ –ø–æ–≤–µ–¥–µ–Ω–∏–µ—Ç–æ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏—Ç–µ
- **–°–∏–≥—É—Ä–Ω–æ—Å—Ç** - –æ—Ç–∫—Ä–∏–≤–∞–Ω–µ –Ω–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª–Ω–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç
- **AI –ø–æ–¥–æ–±—Ä–µ–Ω–∏—è** - –∞–Ω–∞–ª–∏–∑ –Ω–∞ –ø—Ä–µ–ø–æ—Ä—ä–∫–∏—Ç–µ

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞ –ª–æ–≥–æ–≤–µ—Ç–µ

```
instance/
‚îî‚îÄ‚îÄ logs/
    ‚îú‚îÄ‚îÄ smartfit.log          # –í—Å–∏—á–∫–∏ –ª–æ–≥–æ–≤–µ
    ‚îú‚îÄ‚îÄ errors.log            # –°–∞–º–æ –≥—Ä–µ—à–∫–∏
    ‚îú‚îÄ‚îÄ ai_recommendations.log # AI –ø—Ä–µ–ø–æ—Ä—ä–∫–∏
    ‚îú‚îÄ‚îÄ user_actions.log      # –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–∏ –¥–µ–π—Å—Ç–≤–∏—è
    ‚îú‚îÄ‚îÄ ml_model.log          # ML –º–æ–¥–µ–ª –ª–æ–≥–æ–≤–µ
    ‚îî‚îÄ‚îÄ authentication.log    # –ê–≤—Ç–µ–Ω—Ç–∏–∫–∞—Ü–∏—è
```

## üîß –ù–∏–≤–∞ –Ω–∞ –ª–æ–≥–≤–∞–Ω–µ

### DEBUG

- –î–µ—Ç–∞–π–ª–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- –ò–∑–ø–æ–ª–∑–≤–∞ —Å–µ —Å–∞–º–æ –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### INFO

- –û–±—â–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞ —Ä–∞–±–æ—Ç–∞—Ç–∞ –Ω–∞ —Å–∏—Å—Ç–µ–º–∞—Ç–∞
- –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–∏ –¥–µ–π—Å—Ç–≤–∏—è
- –£—Å–ø–µ—à–Ω–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏

### WARNING

- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∑–∞ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–Ω–∏ –ø—Ä–æ–±–ª–µ–º–∏
- –ù–µ–≤–∞–ª–∏–¥–Ω–∏ –≤—Ö–æ–¥–Ω–∏ –¥–∞–Ω–Ω–∏
- –ù–µ—É—Å–ø–µ—à–Ω–∏ –æ–ø–∏—Ç–∏ –∑–∞ –¥–æ—Å—Ç—ä–ø

### ERROR

- –ì—Ä–µ—à–∫–∏ –∫–æ–∏—Ç–æ –Ω–µ —Å–ø–∏—Ä–∞—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ
- –ü—Ä–æ–±–ª–µ–º–∏ —Å –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏
- –ì—Ä–µ—à–∫–∏ –≤ ML –º–æ–¥–µ–ª–∞

### CRITICAL

- –ö—Ä–∏—Ç–∏—á–Ω–∏ –≥—Ä–µ—à–∫–∏ –∫–æ–∏—Ç–æ —Å–ø–∏—Ä–∞—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ
- –ü—Ä–æ–±–ª–µ–º–∏ —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ç–∞

## üìä –¢–∏–ø–æ–≤–µ –ª–æ–≥–æ–≤–µ

### 1. –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–∏ –¥–µ–π—Å—Ç–≤–∏—è

```python
log_user_action("user_login", user_id)
log_user_action("save_measurements", user_id, "Height: 175, Weight: 70")
```

**–§–æ—Ä–º–∞—Ç:**

```
2024-01-15 10:30:45 - USER_ACTION - Action: user_login | User ID: 123
2024-01-15 10:31:20 - USER_ACTION - Action: save_measurements | User ID: 123 | Details: Height: 175, Weight: 70
```

### 2. AI –ü—Ä–µ–ø–æ—Ä—ä–∫–∏

```python
log_ai_recommendation(user_id, clothing_id, input_data, recommendation, confidence=0.85)
```

**–§–æ—Ä–º–∞—Ç:**

```
2024-01-15 10:32:15 - AI_RECOMMENDATION - User: 123 | Clothing: shirt_001 | Input: {'height': 175, 'weight': 70} | Recommendation: M | Confidence: 0.85
```

### 3. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç

```python
log_performance("size_prediction", 0.245, "Result: M")
```

**–§–æ—Ä–º–∞—Ç:**

```
2024-01-15 10:32:15 - performance - Operation: size_prediction | Duration: 0.245s | Details: Result: M
```

### 4. –ì—Ä–µ—à–∫–∏

```python
log_error(exception, "Registration error")
```

**–§–æ—Ä–º–∞—Ç:**

```
2024-01-15 10:33:00 - errors - Error: Database connection failed | Context: Registration error
```

## üõ†Ô∏è –ö–∞–∫ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ –ª–æ–≥–≤–∞–Ω–µ—Ç–æ

### –í routes.py

```python
from app.logging_config import log_user_action, log_error, log_ai_recommendation

@auth.route('/api/login', methods=['POST'])
def login():
    try:
        # ... –∫–æ–¥ –∑–∞ –ª–æ–≥–∏–Ω ...
        log_user_action("user_login", user.id)
        return jsonify({'message': 'Success'})
    except Exception as e:
        log_error(e, "Login error")
        return jsonify({'error': str(e)}), 500
```

### –í ML –º–æ–¥—É–ª–∞

```python
from app.logging_config import log_performance, log_error
import logging

logger = logging.getLogger('ml')

def predict_size(data):
    start_time = datetime.now()
    try:
        # ... ML –ª–æ–≥–∏–∫–∞ ...
        duration = (datetime.now() - start_time).total_seconds()
        log_performance("ml_prediction", duration, f"Result: {result}")
        return result
    except Exception as e:
        log_error(e, "ML prediction error")
        return None
```

### –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –∑–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ª–æ–≥–≤–∞–Ω–µ

```python
from app.logging_config import log_function_call

@log_function_call("calculate_size")
def calculate_size(height, weight, chest, waist):
    # ... –ª–æ–≥–∏–∫–∞ ...
    return size
```

## üìà –ê–Ω–∞–ª–∏–∑ –Ω–∞ –ª–æ–≥–æ–≤–µ—Ç–µ

### –ß–µ—Å—Ç–æ —Å—Ä–µ—â–∞–Ω–∏ –∑–∞—è–≤–∫–∏

**–ù–∞–π-–∞–∫—Ç–∏–≤–Ω–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏:**

```bash
grep "USER_ACTION" instance/logs/user_actions.log | awk '{print $NF}' | sort | uniq -c | sort -nr
```

**–ù–∞–π-–ø–æ–ø—É–ª—è—Ä–Ω–∏ —Ä–∞–∑–º–µ—Ä–∏:**

```bash
grep "AI_RECOMMENDATION" instance/logs/ai_recommendations.log | grep -o "Recommendation: [A-Z]" | sort | uniq -c
```

**–ì—Ä–µ—à–∫–∏ –ø–æ —Ç–∏–ø:**

```bash
grep "ERROR" instance/logs/errors.log | awk '{print $NF}' | sort | uniq -c
```

**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏:**

```bash
grep "performance" instance/logs/smartfit.log | grep "size_prediction" | awk '{print $NF}' | cut -d's' -f1 | sort -n
```

## üîí –°–∏–≥—É—Ä–Ω–æ—Å—Ç –Ω–∞ –ª–æ–≥–æ–≤–µ—Ç–µ

### –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª–Ω–∏ –¥–∞–Ω–Ω–∏

- **–ù–ï –ª–æ–≥–≤–∞–π—Ç–µ** –ø–∞—Ä–æ–ª–∏, —Ç–æ–∫–µ–Ω–∏, –ª–∏—á–Ω–∏ –¥–∞–Ω–Ω–∏
- **–õ–æ–≥–≤–∞–π—Ç–µ** —Å–∞–º–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞ –¥–µ–±—ä–≥–≤–∞–Ω–µ
- –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ –º–∞—Å–∫–∏—Ä–∞–Ω–µ –∑–∞ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª–Ω–∏ –ø–æ–ª–µ—Ç–∞

### –†–æ—Ç–∞—Ü–∏—è –Ω–∞ –ª–æ–≥–æ–≤–µ—Ç–µ

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —Ä–æ—Ç–∞—Ü–∏—è –Ω–∞ 10MB
- –ó–∞–ø–∞–∑–≤–∞–Ω–µ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ 5 —Ñ–∞–π–ª–∞
- –ê—Ä—Ö–∏–≤–∏—Ä–∞–Ω–µ –Ω–∞ —Å—Ç–∞—Ä–∏ –ª–æ–≥–æ–≤–µ

### –î–æ—Å—Ç—ä–ø –¥–æ –ª–æ–≥–æ–≤–µ—Ç–µ

- –°–∞–º–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∏ –∏–º–∞—Ç –¥–æ—Å—Ç—ä–ø
- –õ–æ–≥–æ–≤–µ—Ç–µ —Å–µ —Å—ä—Ö—Ä–∞–Ω—è–≤–∞—Ç –ª–æ–∫–∞–ª–Ω–æ
- –†–µ–≥—É–ª—è—Ä–Ω–æ –∞—Ä—Ö–∏–≤–∏—Ä–∞–Ω–µ

## üöÄ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ –ø—Ä–æ–¥—É–∫—Ü–∏—è

### –ê–ª–µ—Ä—Ç–∏

- –ì—Ä–µ—à–∫–∏ > 5% –æ—Ç –∑–∞—è–≤–∫–∏—Ç–µ
- –í—Ä–µ–º–µ –∑–∞ –æ—Ç–≥–æ–≤–æ—Ä > 3 —Å–µ–∫—É–Ω–¥–∏
- ML –º–æ–¥–µ–ª –≥—Ä–µ—à–∫–∏ > 10%

### –ú–µ—Ç—Ä–∏–∫–∏

- –ë—Ä–æ–π –∞–∫—Ç–∏–≤–Ω–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏
- –£—Å–ø–µ—à–Ω–æ—Å—Ç –Ω–∞ AI –ø—Ä–µ–ø–æ—Ä—ä–∫–∏—Ç–µ
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç –Ω–∞ —Å–∏—Å—Ç–µ–º–∞—Ç–∞

### –î–æ–∫–ª–∞–¥–∏

- –î–Ω–µ–≤–Ω–∏ –æ—Ç—á–µ—Ç–∏ –∑–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç
- –°–µ–¥–º–∏—á–Ω–∏ –∞–Ω–∞–ª–∏–∑–∏ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç—Ç–∞
- –ú–µ—Å–µ—á–Ω–∏ –æ—Ç—á–µ—Ç–∏ –∑–∞ –≥—Ä–µ—à–∫–∏

## üìã Best Practices

1. **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç** - –∏–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ –µ–¥–Ω–∏ –∏ —Å—ä—â–∏ —Ñ–æ—Ä–º–∞—Ç–∏
2. **–ö–æ–Ω—Ç–µ–∫—Å—Ç** - –¥–æ–±–∞–≤—è–π—Ç–µ –ø–æ–ª–µ–∑–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
3. **–ù–∏–≤–∞** - –∏–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª–Ω–∏—Ç–µ –Ω–∏–≤–∞ –Ω–∞ –ª–æ–≥–≤–∞–Ω–µ
4. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç** - –Ω–µ –ª–æ–≥–≤–∞–π—Ç–µ –≤ –∫—Ä–∏—Ç–∏—á–Ω–∏ –ø—ä—Ç–∏—â–∞
5. **–ß–µ—Ç–ª–∏–≤–æ—Å—Ç** - –ø—Ä–∞–≤–µ—Ç–µ –ª–æ–≥–æ–≤–µ—Ç–µ –ª–µ—Å–Ω–∏ –∑–∞ —á–µ—Ç–µ–Ω–µ
6. **–ê—Ä—Ö–∏–≤–∏—Ä–∞–Ω–µ** - —Ä–µ–¥–æ–≤–Ω–æ –∞—Ä—Ö–∏–≤–∏—Ä–∞–π—Ç–µ —Å—Ç–∞—Ä–∏ –ª–æ–≥–æ–≤–µ

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü—Ä–æ–º—è–Ω–∞ –Ω–∞ –Ω–∏–≤–æ—Ç–æ –Ω–∞ –ª–æ–≥–≤–∞–Ω–µ

```python
# –í app.py
logger.setLevel(logging.INFO)  # –ó–∞ –ø—Ä–æ–¥—É–∫—Ü–∏—è
logger.setLevel(logging.DEBUG) # –ó–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```

### –î–æ–±–∞–≤—è–Ω–µ –Ω–∞ –Ω–æ–≤ –ª–æ–≥ —Ñ–∞–π–ª

```python
# –í logging_config.py
new_handler = logging.handlers.RotatingFileHandler(
    os.path.join(log_dir, 'new_module.log'),
    maxBytes=5*1024*1024,
    backupCount=3
)
```

### –ü—Ä–æ–º—è–Ω–∞ –Ω–∞ —Ñ–æ—Ä–º–∞—Ç–∞

```python
formatter = logging.Formatter(
    '%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    datefmt='%Y-%m-%d %H:%M:%S'
)
```
